
## 按钮组件

对于组件的开发，我们首推的是在开始写代码之前一定要和设计师沟通，看看他们对于我们组件的拓展是怎么思考的。以规避程序员和设计师拓展方式的不一致，然后设计师的小改动造成程序员的大改动的成本问题。

### 拓展性

通常我们需要做一个按钮的时候，无非就从之前或者别人那里把代码拷贝过来，然后根据设计稿，改改颜色，字号什么之类的就可以了。

但随着项目扩张，或者按钮形态的增加，如我们我们一开始就不是全局的角度去设计组件，到后面我们就需要额外花更多的时间去思考按钮的拓展性。

举个例子比如我们有一个名为 `.btn` 的基础蓝色按钮。然后设计又给到了一个，放到 `header`中，颜色为红色，其它和默认按钮一样的下载按钮。你会如何拓展这个样式呢？ 

1. `.btn-header` ：基于位置
2. `.btn-red` ：基于颜色
3. `.btn-download` ：基于功能

以上三种是我们通常会用到的比较快速的解决方案。这三个方案之所以快速，是因为他们都是基于当下的场景去思考的。我们只是用代码描述了这个按钮和其它按钮的区别而已。

可是关键问题来了，既然不同点有这三个，我应该选择哪一个呢？其实我们以上三种都不推荐，但是如果非要在这三个里选择一种，我们会推荐**颜色**。

首先，如果我们 `footer` 里面也需要放一个红色的下载按钮，我们显然不能使用 `.btn-header` 这个名字来拓展我们的按钮，而应该使用 `.btn-footer`；

再者，如果我们在 `header` 里面需要添加一个红色的上传按钮，此时显然我们 `.btn-upload` 更满足我们的需求；

可是这样就达不到我们要复用样式的目的了。但如果是基于颜色拓展的话，你依然可以使用 `.btn-red` 这个样式。来表示在 `footer`中的红色下载按钮。

因为我们要复用的是样式，而红色本身就是一种样式，自然拓展性会更好一点。再者按照我们的实际开发的经验，颜色的改动明显是远远低于我们位置和功能的。甚至有很多的项目，一旦主题色定下之后，基本上是不会改的。基于这个点推荐大家可以看一下张鑫旭老师的[基于CSS color属性的静态UI组件重构策略](https://www.zhangxinxu.com/wordpress/2016/11/development-ui-component-based-on-css-color/)的这篇文章。

当然改动概率很小，并不代表不会改变。或者说我们的设计师在已经有一个红色按钮的情况下，又设计了另一个红色的按钮，此时你会怎么命名另一个红色的按钮？难道要叫 `.btn-red2`?

此时就引出了另外一个问题，我们按钮的 UI 是设计师给的，所以对于按钮的拓展方式我们是需要和设计师沟通的。

既然是要沟通，就不能所有的拓展逻辑都是完全基于设计同学的思维方式来。我们得拿出我们的方案去。好在的是在当下的环境中，已经有比较好的最佳实践了。这其中首推的是目前最火的也是火了很多年的前端 UI 框架 **Bootstrap**。他们对于按钮的封装，也几乎成为了国际通用的拓展规则。

这边基于**Bootstrap** [按钮组件](https://v4.bootcss.com/docs/4.0/components/buttons/)，结合我们实际的经验带大家看看，按钮的封装和拓展逻辑。项目实际代码可以[点击这里]()下载，文中的代码是为了解释原理的伪代码，实际开发会为了减少代码量，不会写得这么啰嗦。

### 按钮基础样式 「 _base.scss 」

```css
.btn {
      /* a 链接默认为inline元素，但也有可能显示为按钮所以设置 inline-block 属性 */
      display: inline-block; 
      
      /* 按钮文字居中， 特别是当我们给了按钮一个固定宽度的时候 */
      text-align: center;
      
      /* 按钮文字不换行 */
      white-space: nowrap; 
      
      /* 去掉可以用鼠标选中按钮上的文字功能，没有这个属性会容易出现一个比较难看的半透明框 */
      user-select: none;  
      
      /* 为非可选标签，添加鼠标手型。大多数浏览器对于 a 标签和 button 标签默认是有这个属性的，但其它标签就不一定了 */
      cursor: pointer;
      
      /* 按钮和文字混排的时候近似垂直居中 */      
      vertical-align: middle; 
      
      /* 让padding 和 border 的宽度不影响按钮大小，IE8 和 IE8 以上才兼容这个属性 */
      box-sizing: border-box;
      
      /* 按钮需要设计字体，这里为了保持统一建议和全站主字体保持一致 */
      /* 但是通常我们在 css reset 中会做这一步的重置，所以这里不需要了 */
      /* font-family:inherit; */
      
      /* 以下样式根据实际设计情况来编辑 */
     
      /* 按钮圆角 */
      border-radius: 3px; 
      
      /* 去掉按钮的默认边框 */
      border: none 0; 
}          
```
对于按钮基础样式，因为没有涉及到按钮封装，所以大家的样式都大同小异。

### 按钮主题 「 _theme.scss 」

Bootstrap 是一个没有特定产品的通用基础框架，即使在按钮设计极致收敛的情况下，仍然有 "Primary, Secondary, Success,Danger,Warning, Info, Light , Dark" 八种。对于我们自己的产品来说，这么多的分类是非常不推荐的。我们推荐的是，用更少的主题适应更多的场景，要达到这一点，是需要多和设计师沟通的。

在CSS规范中有提到通过是用下滑线作为前缀的命名规则。在类似 React 和 VUE 的场景中我们推荐直接使用 props 去拓展组件 <Button primary />。相应的可以使用 CSS 的属性选择器去设定样式，以保证一致性 button[primary]{}。

按钮的主题色，在实际开发中我们的颜色应该是基于全局的颜色参数去获取的。对于颜色参数的命名，我们推荐使用 c_ 前缀。

### 按钮大小 「 _size.scss 」

对于按钮大小的拓展我们使用了四种按钮大小。拓展建议通过类似衣服尺码 xs, xl 添加 x 的方式进行拓展 _largex。
我们在大小的数量上和主题是一样的，建议使用更少的大小，适配更多的场景。


### 按钮形态 「 _shape.scss 」


### 按钮状态 [_status.scss]

在按钮主题的部分有写 hover 的样式， 可以在右侧括号内尝试自定义。
